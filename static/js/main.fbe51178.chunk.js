(this["webpackJsonpcosmonaut-web-app"]=this["webpackJsonpcosmonaut-web-app"]||[]).push([[0],{16:function(t,e,n){},17:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),r=n(8),s=n.n(r),c=(n(16),n(11)),i=n(3),u=n(4),m=n(2),d=n(6),b=n(5),l=(n(17),n(0)),h=function(t){return Object(l.jsx)("tbody",{children:t.cosmonauts.map((function(e,n){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.surname}),Object(l.jsx)("td",{children:e.birth}),Object(l.jsx)("td",{children:e.superpower?e.superpower:"none"}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{className:"button-delete",type:"button",onClick:function(){return t.removeCosmonaut(n)},children:"Delete"})})]},n)}))})},j=function(){return Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"First name"}),Object(l.jsx)("th",{children:"Surname"}),Object(l.jsx)("th",{children:"Date of birth"}),Object(l.jsx)("th",{children:"Superpower"}),Object(l.jsx)("th",{})]})})},p=function(t){return Object(l.jsxs)("table",{className:"cosmonaut-table",children:[Object(l.jsx)(j,{}),Object(l.jsx)(h,{cosmonauts:t.cosmonauts,removeCosmonaut:t.removeCosmonaut})]})},O=n(10),f=function(t){var e=t.errors;return Object(l.jsx)("div",{className:"form-cosmonaut-error",children:Object.keys(e).map((function(t,n){return e[t]?Object(l.jsx)("p",{children:e[t]},n):""}))})},C=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).emptyFormState={name:"",nameValid:!1,surname:"",surnameValid:!1,birth:"",birthValid:!1,superpower:"",formValid:!1,formErrors:{name:"",surname:"",birth:""}},a.onCosmonautFormSubmit=function(){a.props.handleCosmonautFormSubmit(a.state),a.setState(a.emptyFormState)},a.handleAddCosmonautChange=function(t){var e=t.target,n=e.name,o=e.value;a.setState(Object(O.a)({},n,o),(function(){a.validateField(n,o)}))},a.validateField=function(t,e){var n=a.state.formErrors,o=a.state.nameValid,r=a.state.surnameValid,s=a.state.birthValid;switch(t){case"name":o=null!==e.match(/^[a-z ]+$/i),n[t]=o?"":"".concat(t," cannot be empty or contain numbers or special characters");break;case"surname":r=null!==e.match(/^[a-z ]+$/i),n[t]=r?"":"".concat(t," cannot be empty or contain numbers or special characters");break;case"birth":s=new Date(a.state.birth).getTime()<=(new Date).getTime(),n[t]=s?"":"".concat(t," cannot be set in the future")}a.setState({nameValid:o,surnameValid:r,birthValid:s},a.validateForm)},a.validateForm=function(){a.setState({formValid:a.state.nameValid&&a.state.surnameValid&&a.state.birthValid})},a.submit=function(){var t=a.state,e=t.name,n=t.surname,o=t.birth,r=t.superpower;fetch("/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,surname:n,birth:o,superpower:r})})},a.state=a.emptyFormState,a.handleAddCosmonautChange=a.handleAddCosmonautChange.bind(Object(m.a)(a)),a.onCosmonautFormSubmit=a.onCosmonautFormSubmit.bind(Object(m.a)(a)),a.validateField=a.validateField.bind(Object(m.a)(a)),a.validateForm=a.validateForm.bind(Object(m.a)(a)),a.submit=a.submit.bind(Object(m.a)(a)),a}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.surname,a=t.birth,o=t.superpower;return Object(l.jsxs)("div",{className:"form-cosmonaut-div",children:[" Add a new cosmonaut",Object(l.jsxs)("form",{className:"form-add-cosmonaut",children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name"}),Object(l.jsx)("input",{type:"text",name:"name",id:"name",value:e,onChange:this.handleAddCosmonautChange}),Object(l.jsx)("label",{htmlFor:"surame",children:"Surame"}),Object(l.jsx)("input",{type:"text",name:"surname",id:"surname",value:n,onChange:this.handleAddCosmonautChange}),Object(l.jsx)("label",{htmlFor:"birth",children:"Date of birth"}),Object(l.jsx)("input",{type:"date",name:"birth",id:"birth",value:a,onChange:this.handleAddCosmonautChange}),Object(l.jsx)("label",{htmlFor:"superpower",children:"Superpower"}),Object(l.jsx)("input",{type:"text",name:"superpower",id:"superpower",value:o,onChange:this.handleAddCosmonautChange}),Object(l.jsx)("button",{type:"submit",value:"Add cosmonaut",disabled:!this.state.formValid,onClick:this.onCosmonautFormSubmit,children:"Add cosmonaut"})]}),Object(l.jsx)(f,{errors:this.state.formErrors})]})}}]),n}(a.Component),v=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).handleCosmonautFormSubmit=function(t){a.setState({cosmonauts:[].concat(Object(c.a)(a.state.cosmonauts),[t])})},a.removeCosmonaut=function(t){a.setState((function(e){return{cosmonauts:e.cosmonauts.filter((function(e,n){return n!==t}))}}))},a.state={cosmonauts:[]},a.handleCosmonautFormSubmit=a.handleCosmonautFormSubmit.bind(Object(m.a)(a)),a.removeCosmonaut=a.removeCosmonaut.bind(Object(m.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("https://mockend.com/TomasLesicko/cosmonaut-web-app/cosmonauts").then((function(t){return t.json()})).then((function(e){t.setState({cosmonauts:e.map((function(e){return{name:e.name,surname:e.surname,birth:t.formatDate(e.birth),superpower:e.superpower}}))})})).catch((function(t){return console.log(t)}))}},{key:"formatDate",value:function(t){var e=new Date(t);return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(C,{handleCosmonautFormSubmit:this.handleCosmonautFormSubmit}),Object(l.jsx)(p,{cosmonauts:this.state.cosmonauts,removeCosmonaut:this.removeCosmonaut})]})}}]),n}(a.Component),x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),o(t),r(t),s(t)}))};s.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),x()}},[[19,1,2]]]);
//# sourceMappingURL=main.fbe51178.chunk.js.map